
	
	
机构
	增删机构
		如果有下级机构?
			更改 belongTo?
			禁止删除?
		同时增删对应的管理员角色
	

权限模块
	需要拆分
		用户 - 角色 管理页面, 不能耦合, 需要重新设计
		机构 - 角色 管理页面, 随后另外设计
	
	改变思路
		auth 允许拥有 admin_role? 的用户自定义, 并允许用户创建下一层的机构的 auth?
		新增机构时  允许超管新增附属机构 / 新增顶级机构
		
	严格完善
		如何封装 对应角色 / 可执行逻辑?
		
		对下级机构只能赋予/解除管理员角色
			
		允许系统管理员指定 绑定 用户-机构(机构)
		允许系统管理员指定 绑定 用户-机构管理员(角色)
		
		如果是机构管理员, 需考虑权限层级, 服从机构层级
		
	auth
		提供编辑 auth 接口
		删除机构最后一个 机构超管 时提示
		
		
	定期清理 已经逻辑删除的数据 (逻辑删除保留N天? 定量?)

图床
	因有保存截屏类数据进数据库, 需要删除过时数据  --- 2020/02/29	

用户注册 转用邮件激活, 
	redis控制短时间内注册数量
		每日? 每N小时?
		改变邮箱也列入限制

cloudinary 可用图片url 上传图片
https://cloudinary.com/documentation/image_upload_api_reference

富文本编辑器, 未处理上传图片的情况 
	暂时不缓存图片, 禁止编辑器的图片输入按钮?

CREATE TABLE `duralbe_recorder` (
id bigint not null,
   `trading_id` bigint default null,
   `holder_id` bigint NOT NULL,
   `amount` decimal(9,2) NOT NULL,
   `transation_date` date NOT NULL,
   `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
   
   `remark` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
   is_broken boolean default false,
   
   is_delete boolean default false,
   PRIMARY KEY (`id`)
 ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='duralbe_recorder'
;

-----------------
需要为管理员增加屏蔽用户/ip

验证码模块

maxAttempts user_attempts 增加时间列?
-------------
老旧的物件, 就像是有一种魔力, 时光在它身上仿佛不会流动.
